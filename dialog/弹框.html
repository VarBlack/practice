<!DOCTYPE html>
<html lang="zh-cn">
	<head>
		<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
        <title></title>
		<style>
			.full-pop {
				position: absolute;
				left: 0;
				top: 0;
				width: 300px;
				padding:10px;
				background: #fff;
				border: 1px solid #ccc;
				/*background-color: rgb(255,255,255);*/
			}
			.dialogTop {
				overflow: hidden;
			}
			.dialogTop .title{
				float: left;
				font-size: 12px;
			}
			.dialogTop .close{
				float: right;
			}
			.content {
				padding:30px 0;
			}
			.pop-btns {
				text-align: right;
				position: absolute;
				width: calc(100% - 20px);
				bottom: 10px;
			}
		</style>
		<script>
			/*
				组件
					标准组件三个部分
						1. html结构 -> 模板
						2. 行为逻辑
						3. 接收数据或者定制模板
			*/
		</script>
		<script src="jquery-3.2.0.js"></script>
		<script src="jquery.dialog.js"></script>
		<script>
			/*class DialogDrag{
				constructor(obj){
//					super();
					this.newObj = {
						title: '这是一个弹框',
						content: '这是默认的内容',
						okValue: '确定',
						cancelValue: '取消',
						width:300,
						height:140,
						left:300,
						top:300
					}
					Object.assign(this.newObj,obj);
					
					this.init();
				}
				//初始化弹窗
				init(){
					this.dialog = this._createDialog();
					document.body.appendChild( this.dialog );
					this._positionDialog();
					this.close = this.dialog.querySelector('.close');
					this.cancel = this.dialog.querySelector('.cancel');
//					this._addEvent();
					
				}
				//弹窗的模板
				_html(){
					return `<div class="dialogTop">
								<div class="title">${this.newObj.title}</div>
						        <span class="close" title="关闭">×</span>
							</div>
					        <div class="content">
					            ${this.newObj.content}
					        </div>
					        <div class="pop-btns">
						        <button class="ok">${this.newObj.okValue}</button>
						        <button class="cancel">${this.newObj.cancelValue}</button>
					        </div>`
				}
				_createDialog(){
					var div = document.createElement('div');
					div.className = 'full-pop';
					div.innerHTML = this._html();
					return div;
					
				}
				//设置弹窗的属性
				_positionDialog(){
					this.dialog.style.left = this.newObj.left+'px';
					this.dialog.style.top = this.newObj.top+'px';
					this.dialog.style.width = this.newObj.width+'px';
					this.dialog.style.height = this.newObj.height+'px';
				}
				
			}*/
		</script>
	</head>

	<body>
		<input type="button" value="改变颜色" id="login" />
		<!-- <div class="full-pop">
				<div class="dialogTop">
					<div class="title">这是一个弹框</div>
			        <span class="close" title="关闭">×</span>
				</div>
		        <div class="content">
		                                这里是弹框内容
		        </div>
		        <div class="pop-btns">
			        <button class="ok">确定</button>
			        <button class="cancel">取消</button>
		        </div>
		</div> -->
		<script>
			login.onclick  = function (){
				
				if($('body > .full-pop').length) return;
				
				
				var obj = {
					title:'改变body颜色',
					content: '点击确定改变颜色，点击取消恢复默认颜色，点击x关闭弹框',
					okValue: '确定',
					cancelValue: '取消',
					width:300,
					height:200,
//					left:400,
//					top:100,
					okHandle:function(){
						$('body').css('backgroundColor',`rgba(${Math.round(Math.random()*255)},${Math.round(Math.random()*255)},${Math.round(Math.random()*255)},0.5)`)
					},
					cancelHandle:function(){
						$('body').css('backgroundColor','#fff');
					}
				}
				
				$.dialog(obj);
				
			}
		</script>
	</body>
</html>